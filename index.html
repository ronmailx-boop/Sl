  <!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>רשימת הקניות שלי - Sl</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4F46E5">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
    <div id="app-root">
       </div>

    <script>
        // שינוי שם המפתח כדי למנוע התנגשות בין Repositories
        const DB_KEY = 'shopping_list_sl_unique';
        let items = [];

        function loadItems() {
            const saved = localStorage.getItem(DB_KEY);
            if (saved) {
                items = JSON.parse(saved);
                renderItems();
            }
        }

        function saveItems() {
            localStorage.setItem(DB_KEY, JSON.stringify(items));
        }

        // ... שאר הפונקציות שלך (addItem, deleteItem וכו') ...

        // רישום Service Worker - קריטי להפרדה של PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('SW Registered'))
                    .catch(err => console.log('SW Failed', err));
            });
        }
        
        loadItems();
    </script>
</body>
</html>
                          <div class="flex items-center gap-2">
                                <div class="flex flex-col gap-1">
                                    <button onclick="moveItemUp(${index})" ${index === 0 ? 'disabled' : ''} class="p-1 rounded transition-colors ${index === 0 ? 'text-gray-300' : 'text-blue-500 hover:bg-blue-50'}">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>
                                        </svg>
                                    </button>
                                    <button onclick="moveItemDown(${index})" ${index === items.length - 1 ? 'disabled' : ''} class="p-1 rounded transition-colors ${index === items.length - 1 ? 'text-gray-300' : 'text-blue-500 hover:bg-blue-50'}">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                        </svg>
                                    </button>
                                </div>
                                <button onclick="deleteItem(${index})" class="text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-colors">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });

            itemsList.innerHTML = html;

            const total = items.reduce((sum, item) => sum + item.price, 0);
            document.getElementById('itemCount').textContent = items.length;
            document.getElementById('totalPrice').textContent = total.toFixed(2);
        }

        document.getElementById('itemName').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('itemPrice').focus();
            }
        });

        document.getElementById('itemPrice').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addItem();
            }
        });

        loadItems();
    </script>
</body>
</html>

